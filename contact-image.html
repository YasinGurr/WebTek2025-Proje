<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.9">
    <title>Form Bilgileri</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Özel CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigasyon Bar -->
    <nav class="custom-navbar navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="about.html">Ana Sayfa</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Giriş Yap</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="contact.html">İletişim</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="cv.html">Özgeçmiş</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="city.html">Şehrim</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="takim.html">Takımımız</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="interests.html">İlgi Alanlarım</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <h1 class="text-center sitilli-yazi mb-4">Form Bilgileri</h1>
        
        <div class="kategori">
            <div class="alert alert-success mb-4">
                <h4 class="alert-heading">Form başarıyla gönderildi!</h4>
                <p>Aşağıda gönderdiğiniz form bilgilerini görebilirsiniz.</p>
            </div>
            
            <div id="formDataDisplay" class="p-4 border rounded">
                <!-- JavaScript ile form verileri burada gösterilecek -->
                <p>Veriler yükleniyor...</p>
            </div>
            
            <div class="text-center mt-4">
                <a href="contact.html" class="btn btn-primary">İletişim Formuna Geri Dön</a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Form Verileri Gösterme Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // localStorage'dan form verilerini al
            const formDataJSON = localStorage.getItem('contactFormData');
            
            if (!formDataJSON) {
                document.getElementById('formDataDisplay').innerHTML = 
                    '<div class="alert alert-warning">Form verisi bulunamadı. Lütfen formu tekrar doldurunuz.</div>';
                return;
            }
            
            const formData = JSON.parse(formDataJSON);
            
            // Form verilerini HTML olarak hazırla
            let html = '<table class="table">';
            html += '<tr><th style="width: 30%">Alan</th><th>Değer</th></tr>';
            html += `<tr><td>Ad Soyad</td><td>${formData.fullName}</td></tr>`;
            html += `<tr><td>E-posta</td><td>${formData.email}</td></tr>`;
            html += `<tr><td>Telefon</td><td>${formData.phone}</td></tr>`;
            
            // Konu değerini daha okunabilir yap
            let subjectText = '';
            switch(formData.subject) {
                case 'bilgi': subjectText = 'Bilgi Talebi'; break;
                case 'siparis': subjectText = 'Sipariş Bilgisi'; break;
                case 'sikayet': subjectText = 'Şikayet'; break;
                case 'oneri': subjectText = 'Öneri'; break;
                case 'diger': subjectText = 'Diğer'; break;
                default: subjectText = formData.subject || 'Seçilmedi';
            }
            html += `<tr><td>Konu</td><td>${subjectText}</td></tr>`;
            
            // İletişim tercihi
            let preferenceText = '';
            switch(formData.contactPreference) {
                case 'email': preferenceText = 'E-posta'; break;
                case 'phone': preferenceText = 'Telefon'; break;
                case 'both': preferenceText = 'Her ikisi'; break;
                default: preferenceText = 'Seçilmedi';
            }
            html += `<tr><td>İletişim Tercihi</td><td>${preferenceText}</td></tr>`;
            
            // İlgi Alanları
            const interestsMap = {
                'technology': 'Teknoloji',
                'science': 'Bilim',
                'art': 'Sanat',
                'sports': 'Spor'
            };
            
            const interestsText = formData.interests && formData.interests.length > 0 
                ? formData.interests.map(interest => interestsMap[interest] || interest).join(', ')
                : 'Seçilmedi';
            
            html += `<tr><td>İlgi Alanları</td><td>${interestsText}</td></tr>`;
            html += `<tr><td>Mesaj</td><td>${formData.message}</td></tr>`;
            html += `<tr><td>Kişisel Verilerin İşlenmesi</td><td>${formData.agreement ? 'Kabul edildi' : 'Kabul edilmedi'}</td></tr>`;
            html += '</table>';
            
            document.getElementById('formDataDisplay').innerHTML = html;
        });
    </script>
</body>
</html>